<HTML>
    <HEAD>
        <TITLE>ISI MM PDU generator</TITLE>
        <SCRIPT SRC="ISI_Util.js" LANGUAGE="JavaScript"></SCRIPT>
        <LINK href="ISI_PDU_Generator.css" rel="stylesheet" type="text/css">
        <META name="description" content="TETRA ISI (Inter System Interface) - Mobility Management - PDU Generator" />
        <META name="keywords" content="Tetra, ISI, MM, PDU, PDU Generator, Online PDU, Generator, Inter System Interface, Mobility Management" />	
    </HEAD>
    <body marginwidth="10" marginheight="0" topmargin="10" leftmargin="10" style="" class="darkblue">        
        <a href="http://www.xpro.co" target="_parent"><img border="0" src="xpro.png" align="right" width="120"></a>
        <form>
            <p>
                <span style="font-size:18; color:Gray; font-weight:bolder">ISI Mobility Management PDU Generator</span>
                <br>
                Copyright &#64; <a href="http://www.xpro.co" target="_parent">XPro Ltd</a> 2016
            </p>
            <table>
                <col width="160"/>
                <tr>
                    <th class="h" align="right"> Information element</th><th class="h" align="left">Value</th>
                </tr>
                <tr>
                    <th align="left">ISI Type</th><th align="left">ISI-MM</th>
                </tr>
                <tr>
                    <th nowrap align="right">ISI-MM PDU type</th>
                    <td><select id="ISI_PDU_type" onchange="document.getElementById('ISI_Proto_IFrame').src = GetValue(this.form.ISI_PDU_type.value,0)">
                                <option value="ISI_MM/ISI_MM_AUTHENTICATION_DEMAND.htm,             000000">AUTHENTICATION DEMAND
                                <option value="ISI_MM/ISI_MM_AUTHENTICATION_RESP.htm,               000001">AUTHENTICATION RESP
                                <option value="ISI_MM/ISI_MM_AUTHENTICATION_RESULT.htm,             000010">AUTHENTICATION RESULT
                                <option value="ISI_MM/ISI_MM_AUTH_REJ.htm,                          000011">AUTH REJ
                                <option value="ISI_MM/ISI_MM_OTAR_PARAM_DEMAND.htm,                 000100">OTAR-PARAM DEMAND
                                <option value="ISI_MM/ISI_MM_OTAR_PARAM_PROVIDE.htm,                000101">OTAR-PARAM PROVIDE
                                <option value="ISI_MM/ISI_MM_OTAR_PARAM_RESULT.htm,                 000110">OTAR-PARAM RESULT
                                <option value="ISI_MM/ISI_MM_OTAR_PARAM_REJ.htm,                    001000">OTAR-PARAM REJ
                                <option value="ISI_MM/ISI_MM_OTAR_KEY_DEMAND.htm,                   001001">OTAR-KEY DEMAND
                                <option value="ISI_MM/ISI_MM_OTAR_KEY_PROVIDE.htm,                  001010">OTAR-KEY PROVIDE
                                <option value="ISI_MM/ISI_MM_OTAR_KEY_RESULT.htm,                   001011">OTAR-KEY RESULT
                                <option value="ISI_MM/ISI_MM_OTAR_KEY_REJ.htm,                      001100">OTAR-KEY REJ
                                <option value="ISI_MM/ISI_MM_MIGRATION.htm,                         001101">MIGRATION
                                <option value="ISI_MM/ISI_MM_MIGRATION_RESP.htm,                    001110">MIGRATION RESP
                                <option value="ISI_MM/ISI_MM_MIGRATION_REJ.htm,                     001111">MIGRATION REJ
                                <option value="ISI_MM/ISI_MM_MIGRATION_REJ_RESP.htm,                010000">MIGRATION REJ RESP
                                <option value="ISI_MM/ISI_MM_PROFILE_UPDATE.htm,                    010001">PROFILE UPDATE
                                <option value="ISI_MM/ISI_MM_PROFILE_UPDATE_RESP.htm,               010010">PROFILE UPDATE RESP
                                <option value="ISI_MM/ISI_MM_PROFILE_REJ.htm,                       010011">PROFILE REJ
                                <option value="ISI_MM/ISI_MM_REMOVE_SUBS.htm,                       010100">REMOVE SUBS
                                <option value="ISI_MM/ISI_MM_REMOVE_SUBS_RESP.htm,                  010101">REMOVE SUBS RESP
                                <option value="ISI_MM/ISI_MM_REMOVE_REJ.htm,                        010110">REMOVE REJ
                                <option value="ISI_MM/ISI_MM_DE_REGISTRATION.htm,                   010111">DE-REGISTRATION
                                <option value="ISI_MM/ISI_MM_DE_REGISTRATION_RESP.htm,              011000">DE-REGISTRATION RESP
                                <option value="ISI_MM/ISI_MM_DE_REG_REJ.htm,                        011001">DE-REG REJ
                                <option value="ISI_MM/ISI_MM_GROUP_ATTACHMENT.htm,                  011010">GROUP ATTACHMENT
                                <option value="ISI_MM/ISI_MM_GROUP_ATTACHMENT_RESP.htm,             011011">GROUP ATTACHMENT RESP
                                <option value="ISI_MM/ISI_MM_GROUP_ATTACHMENT_REJ.htm,              011100">GROUP ATTACHMENT REJ
                                <option value="ISI_MM/ISI_MM_GROUP_DETACHMENT.htm,                  011101">GROUP DETACHMENT
                                <option value="ISI_MM/ISI_MM_GROUP_DETACHMENT_RESP.htm,             011110">GROUP DETACHMENT RESP
                                <option value="ISI_MM/ISI_MM_GROUP_DET_REJ.htm,                     011111">GROUP DET REJ
                                <option value="ISI_MM/ISI_MM_VMM_RECOVERY.htm,                      100000">VMM RECOVERY
                                <option value="ISI_MM/ISI_MM_VMM_RECOVERY_RESP.htm,                 100001">VMM RECOVERY RESP
                                <option value="ISI_MM/ISI_MM_VMM_RECOVERY_COMPLETED.htm,            100010">VMM RECOVERY COMPLETED
                                <option value="ISI_MM/ISI_MM_VMM_RECOVERY_COMPLETED_RESP.htm,       100011">VMM RECOVERY COMPLETED RESP
                                <option value="ISI_MM/ISI_MM_VMM_RECOVERY_REJ.htm,                  100100">VMM RECOVERY REJ
                                <option value="ISI_MM/ISI_MM_SS_PROFILE_UPDATE.htm,                 101110">SS-PROFILE UPDATE
                                <option value="ISI_MM/ISI_MM_SS_PROFILE_UPDATE_RESP.htm,            101111">SS-PROFILE UPDATE RESP
                                <option value="ISI_MM/ISI_MM_SS_PROFILE_REJ.htm,                    110000">SS-PROFILE REJ
                        </select></td>                                                                         
                </tr>
            </table>
            <iframe name="ISI_Proto_IFrame" id="ISI_Proto_IFrame" onLoad="Autosize_IFrame(this)" frameborder="0" height="350" width="600" src="ISI_MM/ISI_MM_AUTHENTICATION_DEMAND.htm"></iframe>
            <table>
            <tr><th>
            <p>
                <input type="button" value="Generate" onClick="WritePDUToCtrl(this.form.PDU_Hex_Value)">                
                <input type="button" value="Write To File" onClick="WritePDUToFile(this.form.FileName.value)">
                <input id="FileName" value="C:\Temp\ISI_MM_PDUs" size=32 >
                <br>
                <br>
                User Header:  <input id="UserHeader" value="" size=45>
                Protocol: <select id="Protocol" NAME="Protocol">
                                <option selected value="0">ISI Raw 
                                <option value="1">QSIG/Facility Payload
                                <option value="2">SIP Payload (ISI Only)
                                <option value="3">SIP Payload (SDP + ISI)
                          </select>
                <br>
                <br>
                <textarea id="PDU_Hex_Value" rows="10" cols="60"></textarea>
            </p>
            <p><A id="Home_Button" HREF="ISI_PDU_Generator.htm">ISI Home</A></p>            
            </th></tr>
            </table>
            
        </form>
        <script language="JavaScript" type="text/JavaScript">
    
            function GetPDU_Hex()
            {               
                Protocol   = document.getElementById('Protocol').value;

                pdu_bin_value = "";                
                isi_pdu_header = "";
                isi_pdu_value = "";
                
                isi_pdu_header += "0010"; //MM Protocol
                isi_pdu_header += GetValue(document.getElementById('ISI_PDU_type').value,1); 
                
                pdu_bin_value = document.getElementById("ISI_Proto_IFrame").contentWindow.GetPDUValue(isi_pdu_header);
                                
                return document.getElementById('UserHeader').value + bin2hex(pdu_bin_value);
            }        

            function WritePDUToCtrl(ctrl)
            {
                pdu_hex_value = GetPDU_by_Protocol(document.getElementById('Protocol').value,"2");                
                ctrl.value = pdu_hex_value;
                return pdu_hex_value;
            }

            function WritePDUToFile(filename)
            {
                filename += ".isi";
                                
                pdu_hex_value = WritePDUToCtrl(document.getElementById('PDU_Hex_Value'));
                WriteToFile(filename,pdu_hex_value);
            }
                    
        </script>
    </body>
</HTML>
